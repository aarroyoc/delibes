<blockquote>Esta entrada la he realizado originalmente para el blog <a href="http://blog.desdelinux.net">DesdeLinux</a></blockquote><br><img class="alignnone size-full wp-image-24" src="https://files.adrianistan.eu/dbus.png" alt="dbus" width="744" height="352" /><br><br>Si llevas algún tiempo en Linux quizás te hayas llegado a preguntar que es <a href="http://dbus.freedesktop.org">D-Bus</a>. D-Bus es un componente incorporado no hace mucho a las distribuciones de escritorio en Linux que previsiblemente jugará un papel muy importante para la programación en Linux.<br><h2>¿Qué es D-Bus?</h2><br>D-Bus es un sistema de comunicación entre aplicaciones de muy diverso origen. Con este sistema podremos llamar incluso a aplicaciones privativas (si estas implementan D-Bus). No juega el mismo papel que una librería pues una librería no es un programa independiente y la librería forma parte de tu ejecutable. La idea de D-Bus está inspirada en los objectos OLE, <a href="http://es.wikipedia.org/wiki/Component_Object_Model">COM</a> y ActiveX de <a href="http://windows.com">Windows</a>. Los objetos COM de Windows ofrecen una manera sencilla de llamar a cualquier programa desde otro programa llegando incluso a poder incrustarse visualmente uno dentro de otro sin necesidad de usar el mismo lenguaje de programación. D-Bus no llega tan lejos pero ofrece esa comunicación de la que UNIX carecía.<br><h2>¿Por qué es importante D-Bus?</h2><br>D-Bus es importante dada la gran diversidad de lenguajes que pueden funcionar en Linux y la gran diversidad también de librerías. Pongamos un ejemplo práctico. Yo quiero mandar una notificación al sistema notify-osd de Ubuntu desde mi aplicación en Node.js. Primero tendría que ver que librería ofrece esa funcionalidad en el sistema, libnotify en este caso, y después debería hacer unos bindings para poder llamar la librería programada en C desde JavaScript. Además imaginemos que queremos hacer funcionar nuestra aplicación con un escritorio que no usa libnotify para las notificaciones.<br><h2>Usando D-Bus</h2><br>Entonces hemos decidido que vamos a usar D-Bus para crear la notificación de nuestra aplicación en JavaScript.<br><pre class="lang:js decode:true ">var dbus=require("dbus-native");<br><br>var bus=dbus.sessionBus();<br>bus.getService("org.freedesktop.Notifications").getInterface("/org/freedesktop/Notifications","org.freedesktop.Notifications",function(err,notify){<br>  <br>  notify.Notify("Probando D-Bus",0,"/usr/share/pixmaps/firefox.png","Título","Cuerpo de la notificación",[],[],5,function(err,id){<br>    console.log("Notificación enviada");<br>  });<br>});</pre><br>&nbsp;<br><br>Hay 2 tipos de buses en D-Bus, un D-Bus único al sistema y un D-Bus para cada sesión de usuario. Luego en D-Bus tenemos servicios que son "los nombres de los proveedores D-Bus", algo así como las aplicaciones D-Bus. Después en una estructura como de carpeta están los objetos que puede tener ese servicio o instancias y finalmente la interfaz es la manera de interactuar con los objetos de ese servicio. En este caso es muy redundante pues el servidor de notificaciones es muy simple.<br><h2>¿Quién usa D-Bus?</h2><br><ul><br> 	<li>com.Skype.API</li><br> 	<li>com.canonical.Unity</li><br> 	<li>org.freedesktop.PolicyKit1</li><br> 	<li>org.gnome.Nautilus</li><br> 	<li>org.debian.apt</li><br> 	<li>com.ubuntu.Upstart</li><br></ul><br>Para averiguar todos los servicios de D-Bus que tienes instalados puedes usar <a href="http://wiki.gnome.org/action/show/Apps/DFeet">D-Feet</a>