Ahora entramos en una de mis partes favoritas de la estadística, el cálculo de probabilidades, sin embargo va a ser muy teórico, sin apenas Python. En primer lugar vamos a definir algunos conceptos:<br><ul><br> 	<li><strong>Experimento</strong> cualquier proceso de obtención de una observación o medida en el que se suponen fijos ciertos factores. Los experimentos puede ser <strong>deterministas</strong> si solo es posible un resultado (aunque sea desconocido) y <strong>aleatorio</strong><strong>s</strong>. Llamamos <strong>azar</strong> a los factores que no controlamos de un experimento aleatorio.</li><br> 	<li><strong>Probabilidad:</strong> la incertidumbre de observar un determinado resultado antes de que se realice el experimento.</li><br> 	<li><strong>Suceso</strong>: el resultado o conjunto de resultados de un experimento aleatorio</li><br> 	<li><strong>Espacio muestral</strong>: el conjunto de todos los resultados posibles de un experimento aleatorio</li><br> 	<li><strong>Suceso complementario de A</strong>: lo que ocurre cuando no ocurre A</li><br> 	<li><strong>Suceso seguro</strong>: Aquel que ocurre siempre. Se representa con <strong>Ω</strong></li><br> 	<li><strong>Suceso imposible</strong>: Aquel que no forma parte del espacio muestral</li><br> 	<li><strong>Sucesos incompatibles</strong>: Aquellos que no pueden ocurrir de forma simultánea</li><br></ul><br>El cálculo de probabilidades nos sirve para valorar el riesgo de nuestras decisiones, anticipar eventos y valorar si nuestras hipótesis eran razonables.<br><br>Para el cálculo de probabilidades vamos a seguir la <strong>axiomática de Kolmogoroff</strong>.<br><h2>Regla de Laplace</h2><br>La ley fundamental de las probabilidades, define la probabilidad como la razón entre el número de casos favorables y el número de casos totales.<br><p style="text-align: center;">[latex]<br>Pr\{A\} = \frac{k}{n}<br>[/latex]</p><br>Esto es muy sencillo de utilizar y no voy a poner código Python. Para calcular tanto el número de casos favorables como el de casos totales es recomendable tener nociones de <strong>combinatoria</strong>, que resulta extremadamente útil en ese tipo de situaciones.<br><h2>Probabilidad condicionada</h2><br>¿Qué ocurre si disponemos de información suplementaria? Formulado de otra forma, ¿qué pasa si queremos calcular la probabilidad de A sabiendo B ha ocurrido? ¿Daría el mismo resultado? La respuesta es que no, la <strong>probabilidad de A condicionada por B</strong> se define de la siguiente forma:<br><p style="text-align: center;">[latex]<br>Pr\{A | B\} = \frac{Pr\{A \cap B \}}{Pr\{B\}}<br>[/latex]</p><br>¿Cómo se calcula la probabilidad de la intersección de A y B?<br><p style="text-align: center;">[latex]<br>Pr\{A \cap B\} = Pr\{A\}Pr\{B|A\}<br>[/latex]</p><br>Aquí nos damos cuenta que si A es independiente de B, la probabilidad de su intersección es simplemente el producto de Pr{A} y Pr{B}.<br><h2>Teorema de Bayes</h2><br>La generalización de lo anterior es el conocido <strong>teorema de Bayes</strong>. Podemos usarlo para resolver una gran cantidad de problemas.<br><br><em>En la provincia de Soria, el negocio de acceso a Internet se reparte entre dos operadores, Timofónica y Robafone y dos únicas marcas de routers, Xisco y Nuaweii. En Soria, la cuota de mercado de Timofónica es del 60% y de Robafone el resto. El 70% de los usuarios dispone de router Xisco y el 30% de ambas marcas. Además se sabe que la probabilidad de corte de acceso es 0.1 para usuarios de Timofónica, 0.15 para Robafone y 0.05 para routers Xisco.</em><br><br><em>¿Cuál es la probabilidad de que a un usuario se le corte el Internet?</em><br><br>Primero vamos a definir un diccionario <strong>pr</strong> con las probabilidades que nos da el enunciado. Tenemos varias probabilidades relacionadas con un usuario: operador, router, fallos condicionados, ...<br><pre class="lang:python decode:true">pr = dict()<br>pr["Timofónica"] = 0.6<br>pr["Robafone"] = 0.4<br>pr["Xisco"] = 0.7<br>pr["Xisco Y Nuaweii"] = 0.3<br>pr["Corte | Timofónica"] = 0.1<br>pr["Corte | Robafone"] = 0.15<br>pr["Corte | Xisco"] = 0.05<br></pre><br>Para calcular la probabilidad de corte de un usuario hay que sumar la probabilidad de ser usuario de una compañía y tener un corte y de ser de otra compañía y tener un corte.<br><pre class="lang:python decode:true">pr["Corte"] =  pr["Corte | Timofónica"]*pr["Timofónica"] + pr["Corte | Robafone"]*pr["Robafone"]</pre><br>En este caso Pr{Corte} = 0.12. La probabilidad de que un usuario cualquiera de Soria tenga un corte es del 12%.<br><br><em>Si se sabe que un usuario tiene la línea cortada, ¿cuál es la probabilidad de que tenga router Xisco en casa?</em><br><br>En este caso se pide Pr{Xisco|Corte}. Según el teorema de Bayes, esto es:<br><p style="text-align: center;">[latex]<br>Pr\{Xisco|Corte\} = \frac{Pr\{Xisco \cap Corte\}}{Pr\{Corte\}} = \frac{Pr\{Xisco\}Pr\{Corte | Xisco\}}{Pr\{Corte\}}<br>[/latex]</p><br><br><pre class="lang:python decode:true ">pr["Xisco | Corte"] = pr["Xisco"]*pr["Corte | Xisco"]/pr["Corte"]</pre><br>Que da una probabilidad de 0,29. Es decir, si el usuario tiene un corte, la probabilidad de que en su casa tenga un router Xisco es del 29%.<br><br><em>¿Cuál es la probabilidad de que se produzca un corte a un usuario que no tiene un router Xisco?</em><br><br>En este caso se pide Pr{Corte | Nuaweii}. Y tenemos un pequeño problema y es que no sabemos la probabilidad de que un usuario tenga en su casa Nuaweii. Con un poco de manipulación matemática podemos obtener una expresión que no depende de Pr{Nuaweii}.<br><p style="text-align: center;">[latex]<br>Pr\{Corte|Nuaweii\} = \frac{Pr\{Corte \cap Nuaweii\}}{Pr\{Nuaweii\}} \\ = \frac{Pr\{Corte \cap (\Omega-Xisco)\}}{1-Pr\{Xisco\}} = \frac{Pr\{Corte - Corte \cap Xisco\}}{1-Pr\{Xisco\}} \\ = \frac{Pr\{Corte\}-Pr\{Corte \cap Xisco\}}{1-Pr\{Xisco\}}<br>[/latex]</p><br><br><pre class="lang:python decode:true">pr["Corte | Nuaweii"] = (pr["Corte"] - pr["Xisco"]*pr["Corte | Xisco"])/(1-pr["Xisco"])</pre><br><h2>Funciones asociadas</h2><br><strong>Función de probabilidad</strong>: Una función que devuelve la probabilidad de ser obtenido un valor en un experimento aleatorio. La suma de las funciones de probabilidad de todos los valores que puede tomar la variable es 1.<br><br><strong>Función de distribución F(x)</strong> Una función que devuelve la probabilidad de obtener un valor igual o menor al valor en un experimento aleatorio. Esta función lo que hace es ir acumulando.<br><br><strong>Función de densidad f(x):</strong> Como en variables aleatorias continuas no tiene sentido hablar de función de probabilidad (siempre sería 0), se define la función de densidad, como la función que da la probabilidad de que una variable aleatoria esté entre A y B.<br><br>Como es lógico es posible pasar entre función de densidad y de distribución mediante integreación y derivación.<br><h2>Medidas asociadas</h2><br><strong>Esperanza matemática (μ)</strong> o media poblacional<br><p style="text-align: center;">[latex]<br>\mu = E(x) = \int_{-\inf}^{\inf} xf(x)dx<br>[/latex]</p><br><strong>Mediana</strong>: el X que da como resultado 0.5 en la función de densidad, F(X) = 0.5<br><br><strong>Varianza:</strong><br>[latex]<br>Var(X) = \sigma^2 = E((X-\mu)^2)<br>[/latex]<br><br>Y con esto dejamos este capítulo teórico pero necesario para el siguiente (que será muy útil).<br><br>&nbsp;<br><br>&nbsp;