Siguiendo en nuestro camino de la <strong>estadística descriptiva</strong>, hoy vamos a ver como calcular ciertas medidas relativas a una variable.<br><br><a href="https://files.adrianistan.eu/pandas_logo.png"><img class="aligncenter size-full wp-image-1100" src="https://files.adrianistan.eu/pandas_logo.png" alt="" width="600" height="125"></a><br><h3>Fichero de ejemplo</h3><br><pre class="lang:default decode:true " title="notas.csv">alumno,nota<br>Araceli,9<br>Manuel,5<br>Pablo,7<br>Íñigo,4<br>Mario,3<br>Raúl,4<br>Verónica,6<br>Darío,10<br>Laura,4<br>Silvia,6<br>Eduardo,2<br>Susana,8<br>María,5</pre><br><h2>Medidas de centralización: media, mediana y moda</h2><br>La <strong>media aritmética</strong> se define como la suma de N elementos dividida entre N. Se trata una medida bastante conocida entre la gente, aunque tiene el inconveniente de que es muy susceptible a valores extremos.<br><br>La <strong>mediana</strong> es el valor que dentro del conjunto de datos es menor que el 50% de los datos y mayor que el 50% restante.<br><br>La <strong>moda</strong> es el valor más repetido (solo aplicable a variables discretas).<br><br>Para calcular estas medidas, simplemente seleccionamos la <strong>variable estadística</strong> del DataFrame y usamos los métodos <strong>mean, median</strong> y <strong>mode</strong> respectivamente.<br><br><em>Ejemplo: Calcula la media, la mediana y la moda de las notas de los alumnos en el examen</em><br><pre class="lang:python decode:true ">import pandas as pd<br><br>df = pd.read_csv("notas.csv")<br><br>media = df["nota"].mean()<br>mediana = df["nota"].median()<br>moda = df["nota"].mode()<br>print("""<br>    Media: %d<br>    Mediana: %d<br>    Moda: %d<br>""" % (media,mediana,moda))</pre><br><h2>Medidas de posición: cuartiles y percentiles</h2><br>El concepto es igual al de <strong>mediana</strong>, salvo que aquí la división ya no es en el 50%. El 25% de las observaciones es menor que el primer cuartil. Los cuartiles abarcan el 25%, 50% y 75% de las observaciones. Los percentiles son una generalización con cualquier porcentaje.<br><br><em>Ejemplo: ¿Cuál es la nota que tiene como mínimo el 10% más nota de la clase?</em><br><br>Este enunciado nos pide calcular el percentil 90.<br><br>Usamos <strong>quantile</strong> y el porcentaje.<br><pre class="lang:python decode:true ">p90 = df["nota"].quantile(0.9)</pre><br>El resultado es que el 10% con más nota de la clase ha sacado un 8,8 como mínimo. Mencionar que existen distintos tipos de interpolación para este cálculo. En la referencia podemos consultar cual nos conviene más.<br><h2>Medidas de dispersión: desviación típica, rango, IQR, coeficiente de variación</h2><br>La <strong>desviación típica</strong> mide la dispersión de los datos respecto a la media. Se trata de la raíz cuadrada de la varianza, que en sí misma no es una medida de dispersión. Para calcular la desviación típica usamos <strong>std</strong> y <strong>var</strong> para la varianza. (ddof=0 es necesario si quieres seguir la definición de desviación típica y varianza de algunas bibliografías, la razón es que hay un parámetro de ajuste que Pandas pone a 1, pero otras librerías ponen a 0). En Excel es la diferencia que hay entre DESVEST.M (ddof=1) y DESVEST.P (ddof=0).<br><pre class="lang:python decode:true">std = df["nota"].std(ddof=0)<br>var = df["nota"].var(ddof=0)<br>assert(np.sqrt(var) == std)</pre><br>El rango es la diferencia entre el máximo y el mínimo y el rango intercuartílico o <strong>IQR</strong> es la diferencia entre el tercer y el primer cuartil.<br><pre class="lang:python decode:true ">rango = df["nota"].max() - df["nota"].min()<br>iqr = df["nota"].quantile(0.75) - df["nota"].quantile(0.25)</pre><br>El <strong>coeficiente de variación</strong> es una medida que sirve para comparar entre dos muestras, cuál varía más y cuál es más estable. Es una simple división, de la desviación típica sobre la media, sin embargo, SciPy nos ofrece una función ya preparada.<br><pre class="lang:python decode:true ">import pandas as pd<br>import scipy.stats as ss<br><br>df = pd.read_csv("notas.csv")<br><br>cv = df["nota"].std(ddof=0) / df["nota"].mean()<br>cv2 = ss.variation(df["nota"])<br>assert(cv == cv2)</pre><br><h2>Medidas de asimetría</h2><br>Para saber si los datos estan repartidos de forma simétrica existen varios coeficientes: Pearson, Fisher, Bowley-Yule, etc<br><br>Para no liarnos demasiado, podemos usar la función <strong>skew</strong> de SciPy.<br><pre class="lang:default decode:true ">asimetria = ss.skew(df["nota"])</pre><br>Para valores cercanos a 0, la variable es simétrica. Si es positiva tiene cola a la derecha y si es negativa tiene cola a la izquierda.<br><br>Y con esto hemos visto los datos que se pueden extraer de una sola variable.